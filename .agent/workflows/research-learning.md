---
description: 科研学习工作流程 - 根据用户指导产出科研成果
---

# 科研学习 Workflow

## 工作流定位

本工作流旨在帮助用户进行**探索性科研学习**，通过交互式指导产出高质量的科研成果（仿真代码、数据分析、技术报告等）。

**核心特点**：
- ✅ 用户主导：用户提供研究想法和指导
- ✅ AI辅助：AI提供技术实现和理论支持
- ✅ 迭代探索：支持多轮迭代优化
- ✅ 成果导向：输出可复现的科研成果

### ⚠️ 重要：成果自动保存

**每次研究都会创建独立的文件夹保存所有成果**

```
research_output/
└── YYYYMMDD_[研究主题]/     ← 每次研究一个文件夹
    ├── report.md             ← 技术报告
    ├── code/                 ← 仿真代码
    │   └── research_xxx.m
    ├── data/                 ← 数据文件
    │   └── results.mat
    ├── figures/              ← 结果图表
    │   ├── fig_1.png
    │   └── fig_2.png
    └── references/           ← 理论笔记
        └── theory_notes.md
```

**命名规则**：
- 文件夹名：`YYYYMMDD_简短研究主题`（如 `20260112_collision_frequency_estimation`）
- 自动创建日期前缀，确保按时间顺序排列
- 所有相关文件集中保存，便于归档和分享

**示例**：
```
research_output/
├── 20260110_bandwidth_optimization/      # 第一次研究
│   ├── report.md
│   ├── code/
│   └── figures/
├── 20260112_collision_estimation/        # 第二次研究
│   ├── report.md
│   ├── code/
│   └── data/
└── 20260115_frequency_window_analysis/   # 第三次研究
    ├── report.md
    └── code/
```

---

## 必读资源

开始任何科研任务前，AI必须阅读以下资源以确保理论准确性：

### 核心理论资源
- [核心研究档案](../../resources/核心研究档案.txt) - 理论推导详情
- [论文大纲](../../resources/大纲.txt) - 研究框架
- [公式模板](../../resources/formula-templates.md) - 标准公式

### 代码参考资源
- [thesis-code目录](../../thesis-code/) - 现有仿真代码
- [代码参考文档](../../resources/matlab-code-reference.md) - 代码说明

---

## 科研流程（五个阶段）

```
┌─────────────────────────────────────────────────────────────┐
│  阶段1: 研究问题定义                                          │
│  用户描述想法 → AI明确研究目标 → 确定技术路线                │
└─────────────────┬───────────────────────────────────────────┘
                  │
                  ▼
┌─────────────────────────────────────────────────────────────┐
│  阶段2: 理论分析                                              │
│  查阅核心档案 → 梳理相关理论 → 推导关键公式                   │
└─────────────────┬───────────────────────────────────────────┘
                  │
                  ▼
┌─────────────────────────────────────────────────────────────┐
│  阶段3: 仿真实验设计                                          │
│  设计实验方案 → 编写MATLAB代码 → 参数设置                     │
└─────────────────┬───────────────────────────────────────────┘
                  │
                  ▼
┌─────────────────────────────────────────────────────────────┐
│  阶段4: 数据分析与可视化                                       │
│  运行仿真 → 数据处理 → 生成图表 → 结果分析                    │
└─────────────────┬───────────────────────────────────────────┘
                  │
                  ▼
┌─────────────────────────────────────────────────────────────┐
│  阶段5: 成果输出                                              │
│  撰写技术报告 → 总结研究发现 → 归档代码和数据                 │
└─────────────────────────────────────────────────────────────┘
```

---

## 阶段1：研究问题定义

### 用户提供

```
/research-learning

我想研究的问题：
[用户描述研究想法]

【研究背景】（可选）
- 为什么要研究这个问题
- 现有方法的局限性
- 期望的改进方向

【研究目标】（必填）
- 具体要解决什么问题
- 期望得到什么结果

【技术约束】（可选）
- 可用的参数范围
- 计算资源限制
- 时间要求
```

### AI输出

```markdown
# 研究问题明确化

## 研究问题
[AI重新表述的研究问题]

## 理论基础
- 相关理论：[从核心档案中提取]
- 关键公式：[列出相关公式]

## 技术路线
1. [步骤1]
2. [步骤2]
3. [步骤3]

## 预期成果
- 代码：[描述将要编写的代码]
- 数据：[描述将要获得的数据]
- 图表：[描述将要生成的图表]

## 需要用户确认
- [ ] 研究目标是否准确
- [ ] 技术路线是否可行
- [ ] 预期成果是否满足需求
```

---

## 阶段2：理论分析

### AI执行步骤

1. **阅读核心研究档案**：找到与研究问题相关的理论章节
2. **梳理理论链条**：从基础公式到目标推导的完整链条
3. **推导关键公式**：如有新的推导需求，基于现有理论进行推导

### 输出文档格式

```markdown
# 理论分析报告

## 相关理论综述
[从核心档案中提取的相关理论]

## 公式推导
### 基础公式
[列出基础公式及其物理意义]

### 推导过程
[详细推导步骤]

### 最终结果
[目标公式及其参数说明]

## 物理意义分析
[解释公式的物理含义和适用范围]

## 参数敏感性预估
[分析哪些参数对结果影响大]
```

---

## 阶段3：仿真实验设计

### 实验设计原则

1. **参考现有代码**：优先从 `thesis-code/` 中复用逻辑
2. **参数一致性**：使用与论文一致的物理参数
3. **代码规范**：遵循MATLAB最佳实践
4. **可复现性**：代码独立运行，参数可调

### 代码结构模板

```matlab
%% research_[topic]_[date].m
% 研究课题：[用户研究问题]
% 创建日期：YYYY-MM-DD
% 研究目标：[简要描述]

clear; clc; close all;

%% 1. 参数设置
% 物理常数
c = 3e8;                    % 光速 (m/s)
epsilon_0 = 8.854e-12;      % 真空介电常数
m_e = 9.109e-31;            % 电子质量 (kg)
q_e = 1.602e-19;            % 电子电量 (C)

% 研究参数（用户可调）
% TODO: 根据研究问题设置参数

%% 2. 理论计算
% TODO: 实现阶段2的公式推导

%% 3. 仿真实验
% TODO: 设计实验循环

%% 4. 数据后处理
% TODO: 数据分析和统计

%% 5. 可视化
% TODO: 生成图表

%% 6. 结果保存
% 保存数据
save('research_results_YYYYMMDD.mat', 'var1', 'var2');

% 保存图表
print('-dpng', '-r300', 'research_figure_YYYYMMDD.png');

fprintf('仿真完成！结果已保存。\n');
```

### 代码复用策略

| 研究类型 | 参考代码 | 复用内容 |
|---------|---------|---------|
| 参数敏感性分析 | `nue.m` | 参数扫描逻辑、绘图风格 |
| 频谱分析 | `initial.m` | FFT处理、频域分析 |
| 工程判据研究 | `lianghua.m` | 非线性度计算、边界分析 |
| 算法优化 | `LM.m` | 反演算法、权重计算 |

---

## 阶段4：数据分析与可视化

### 数据分析清单

- [ ] 数据有效性检查（是否有NaN、Inf）
- [ ] 统计特征分析（均值、方差、极值）
- [ ] 趋势分析（随参数变化的规律）
- [ ] 误差分析（与理论预测的对比）

### 可视化规范

**基础图表**：
- 曲线图：展示变化趋势
- 散点图：展示离散数据
- 热力图：展示二维参数空间

**高级图表**：
- 子图对比：多个条件的并排对比
- 动态演化：参数随时间或频率的变化
- 3D曲面：二维参数对结果的影响

**绘图风格**：
```matlab
% 论文标准风格
set(gca, 'FontName', 'Times New Roman', 'FontSize', 12);
set(gca, 'LineWidth', 1.2);
grid on; box on;

% 颜色方案
colors_research = [
    0.0000, 0.4470, 0.7410;  % 蓝色
    0.8500, 0.3250, 0.0980;  % 橙色
    0.9290, 0.6940, 0.1250;  % 黄色
    0.4660, 0.6740, 0.1880;  % 绿色
];
```

---

## 阶段5：成果输出

### 技术报告模板

```markdown
# [研究课题名称]

**研究日期**：YYYY-MM-DD
**研究目标**：[简要描述]

---

## 1. 研究背景

[描述研究动机和背景]

## 2. 理论分析

### 2.1 相关理论
[引用核心档案中的理论]

### 2.2 关键公式
[列出推导的公式]

## 3. 仿真实验设计

### 3.1 实验方案
[描述实验设计]

### 3.2 参数设置
| 参数 | 数值 | 说明 |
|-----|------|------|
| xxx | xxx | xxx |

### 3.3 代码实现
- 代码文件：`research_[topic]_YYYYMMDD.m`
- 参考代码：`thesis-code/xxx.m`

## 4. 结果与分析

### 4.1 仿真结果
![结果图](path/to/figure.png)

### 4.2 数据分析
[分析仿真数据]

### 4.3 物理意义
[解释结果的物理含义]

## 5. 结论

### 5.1 主要发现
- [发现1]
- [发现2]

### 5.2 局限性
- [局限1]
- [局限2]

### 5.3 后续研究方向
- [方向1]
- [方向2]

---

## 附录

### A. 完整代码
[附上完整的MATLAB代码]

### B. 数据文件
- `research_results_YYYYMMDD.mat`

### C. 参考资料
- [核心研究档案] 第X节
- [thesis-code] `xxx.m`
```

---

### ⚠️ AI自动执行的保存操作

完成研究后，AI必须执行以下保存步骤：

**步骤1：创建研究文件夹**
```bash
# 自动创建文件夹结构
research_output/YYYYMMDD_[研究主题]/
    ├── code/
    ├── data/
    ├── figures/
    └── references/
```

**步骤2：保存所有文件到对应目录**
- 技术报告 → `report.md`
- MATLAB代码 → `code/research_xxx.m`
- 数据文件 → `data/results.mat`
- 图表文件 → `figures/fig_*.png`
- 理论笔记 → `references/theory_notes.md`

**步骤3：生成成果清单**
在研究文件夹根目录创建 `README.md`：
```markdown
# [研究主题]

**研究日期**：YYYY-MM-DD
**研究目标**：[简要描述]

## 文件清单
- `report.md` - 完整技术报告
- `code/xxx.m` - 仿真代码
- `data/results.mat` - 数据文件
- `figures/*.png` - 结果图表

## 主要发现
- [发现1]
- [发现2]

## 后续工作
- [建议1]
```

---

## 成果归档结构

```
../../research_output/
├── YYYYMMDD_[研究主题]/
│   ├── report.md                    # 技术报告
│   ├── code/
│   │   └── research_[topic].m       # 仿真代码
│   ├── data/
│   │   └── results.mat              # 数据文件
│   ├── figures/
│   │   ├── figure_1.png             # 结果图表
│   │   └── figure_2.png
│   └── references/
│       └── theory_notes.md          # 理论笔记
```

---

## 使用示例

### 示例1：研究碰撞频率的新估计方法

```
/research-learning

我想研究的问题：
能否通过测量信号幅度的衰减程度来估计碰撞频率νe，而不仅仅依赖群时延？

【研究目标】
1. 推导幅度衰减与碰撞频率的解析关系
2. 通过仿真验证这种方法的可行性
3. 分析测量误差对估计精度的影响

【技术约束】
- 参数范围：νe = 0.1-5 GHz
- 信噪比：10-30 dB
```

### 示例2：研究非线性度因子的优化

```
/research-learning

我想研究的问题：
在不同带宽和中心频率下，如何选择最优的频率窗口来最小化非线性度因子η？

【研究目标】
1. 建立η(f, B, f0)的数学模型
2. 找到η最小化的最优频率窗口
3. 给出工程设计建议

【技术约束】
- 带宽范围：1-5 GHz
- 中心频率范围：30-40 GHz
```

---

## 用户指导的交互模式

### 模式1：全程指导
用户在每个阶段结束时review并提供下一步指导

### 模式2：关键节点指导
AI自动完成常规步骤，仅在关键决策点请求用户指导

### 模式3：结果导向
用户只描述期望结果，AI自主完成所有步骤

---

## 质量保障

### 理论准确性检查
- [ ] 所有公式来源于核心研究档案
- [ ] 物理参数与论文一致
- [ ] 推导过程逻辑严密

### 代码质量检查
- [ ] 代码可独立运行
- [ ] 参数设置清晰可调
- [ ] 包含充分注释
- [ ] 结果可复现

### 成果完整性检查
- [ ] 技术报告结构完整
- [ ] 代码和数据已归档
- [ ] 图表清晰可读
- [ ] 结论有理有据

---

## 输出文件命名规范

- **代码文件**：`research_[简短主题]_YYYYMMDD.m`
- **数据文件**：`results_[简短主题]_YYYYMMDD.mat`
- **图表文件**：`fig_[编号]_[描述]_YYYYMMDD.png`
- **报告文件**：`report_[简短主题]_YYYYMMDD.md`

---

## 与其他Workflow的关系

```
research-learning    ←→  thesis-writing
      ↓                        ↑
   产出新发现              写入论文章节
      ↓                        ↑
   仿真代码  →  finalize  →  配图代码
      ↓                        ↑
   研究报告  ←  expert-review
```

**协同使用场景**：
1. 用 `research-learning.md` 探索新想法 → 产出代码和数据
2. 用 `thesis-writing.md` 将研究成果写成论文章节
3. 用 `expert-review.md` 评审论文质量
4. 用 `finalize.md` 定稿并生成配图

---

## 快速启动命令

```
/research-learning

我想研究：[一句话描述研究问题]
```

或完整版：

```
/research-learning

【研究问题】
[详细描述]

【研究目标】
[具体目标]

【用户指导】
[特殊要求或约束]
```
